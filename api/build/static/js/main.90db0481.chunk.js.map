{"version":3,"sources":["resources/css/home.module.css","resources/logos/logo_mobile.png","constants/colors.js","components/Firebase/firebase.js","components/Firebase/context.js","components/Navigation/adminslide.js","constants/routes.js","components/Navigation/index.js","constants/utils.js","components/SignIn/index.js","components/Admin/accounts/AccountList.js","components/Admin/accounts/index.js","components/Admin/offices/OfficesList.js","components/Admin/offices/PlaceAutocomplete.js","components/Admin/offices/OfficeEdit.js","components/Admin/offices/OfficeCreate.js","components/Admin/offices/index.js","components/Admin/workShifts/WorkShiftList.js","components/Admin/workShifts/TimePicker.js","components/Admin/workShifts/WorkShiftCreate.js","components/Admin/workShifts/WorkShiftEdit.js","components/Admin/workShifts/index.js","components/Admin/users/UserList.js","components/Admin/users/CustomSave.js","components/Admin/users/UserCreate.js","components/Admin/users/CustomUserDelete.js","components/Admin/users/CustomSaveEdit.js","components/Admin/users/UserEdit.js","components/Admin/users/index.js","components/Admin/historicals/HistoricalList.js","components/Admin/historicals/index.js","components/Admin/dashboard/charts/LineChart.js","components/Admin/dashboard/charts/BarsChart.js","components/Admin/dashboard/index.js","components/Admin/menu/AdminBar.js","components/Admin/menu/layout.js","components/Admin/index.js","components/PasswordForget/index.js","components/SignUp/index.js","resources/logos/logo.png","components/Home/Welcome.js","constants/buttons.js","components/Home/IncidenceBtn.js","components/Home/HistoricalBtn.js","components/Home/Clock/clock.js","components/Home/RegistTime.js","components/Home/index.js","components/Admin/RouteAdmin.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SKY","app","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","useEffect","auth","onAuthStateChanged","Provider","value","AdminSlideBase","props","handleChange","event","target","checked","history","push","setState","name","state","_isMounted","this","location","pathname","includes","FormControlLabel","control","Switch","color","onChange","label","Typography","variant","style","AdminSlide","withRouter","useStyles","makeStyles","theme","createStyles","root","flexGrow","title","marginRight","spacing","adminmode","Navigation","classes","isAdmin","setIsAdmin","useContext","getIdTokenResult","then","idTokenResult","claims","admin","catch","error","console","log","className","AppBar","position","backgroundColor","Toolbar","Grid","justify","container","item","to","Button","component","Link","onClick","signOut","formStyles","paper","marginTop","display","flexDirection","alignItems","avatar","margin","form","width","submit","alert","marginBottom","registIncidence","flexWrap","textField","marginLeft","formControl","minWidth","selectEmpty","workShiftSelector","styles","Utils","INITIAL_STATE","email","password","openAlert","Alert","elevation","SignInFormBase","onSubmit","preventDefault","signInWithEmailAndPassword","trim","handleClose","Container","maxWidth","CssBaseline","Avatar","TextField","required","fullWidth","id","autoComplete","autoFocus","type","xs","RouterLink","Snackbar","open","autoHideDuration","onClose","severity","Component","SignIn","compose","withStyles","exporter","accounts","accountsForExport","map","account","jsonExport","headers","err","csv","downloadCSV","AccountList","List","Datagrid","EmailField","source","DateField","icon","AccountIcon","list","offices","officesForExport","office","coordinates","lastupdate","updatedby","createdate","createdby","OfficesList","bulkActionButtons","rowClick","PlaceAutocomplete","handleSelect","geocodeByAddress","results","getLatLng","latLng","formData","change","record","lat","lng","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","suggestion","active","COLORS","cursor","verticalAlign","description","Address","rest","useForm","OfficeTitle","OfficeToolbar","toolbar","justifyContent","SaveButton","redirect","submitOnEnter","DeleteButton","undoable","OfficeEdit","Edit","SimpleForm","TextInput","validate","FormDataConsumer","formDataProps","OfficeCreate","Create","OfficeIcon","edit","create","workShifts","workShiftsForExport","workShift","TurnList","TimePicker","defaultValue","useField","input","meta","touched","helperText","InputLabelProps","shrink","inputProps","step","Times","TurnCreate","startTime","endTime","WorkShiftTitle","WorkShiftToolbar","WorkShiftEdit","WorkShiftIcon","WorkShiftList","WorkShiftCreate","users","usersForExport","user","Userfilters","Filter","SearchInput","placeholder","alwaysOn","UserList","filters","ReferenceField","reference","BooleanField","CustomSave","handleSubmitWithRedirect","handleClick","useCallback","userObject","getFieldState","displayName","axios","post","res","errorMessage","response","data","WorkData","ReferenceInput","SelectInput","optionText","LoginData","PasswordInput","UserCreateToolbar","UserCreate","BooleanInput","CustomUserDelete","delete","CustomSaveEdit","put","UserEditToolbar","UserTitle","UserEdit","disabled","UserIcon","records","fetchRelatedRecords","historicals","date","start","end","dni","HistoricalFilters","filterToQuery","searchText","AutocompleteInput","HistoricalList","HistoricalIcon","processAverage","startAverage","endAverage","labels","startData","endData","entryStart","average","entryEnd","buildCharData","optionsGraphic","responsive","scales","xAxes","ticks","autoSkip","maxTicksLimit","legend","boxWidth","tooltips","mode","intersect","starData","datasets","fill","lineTension","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","pad","s","getLastMonthDateformat","today","Date","setMonth","getMonth","getFullYear","getDate","join","getTodayDateformat","convertDate","LineChartBase","a","startAccumulateData","endAccumulateData","workShiftHourData","findWorkShiftById","findHistoricals","accumulateData","calculateAverage","charData","handleDownload","imgData","document","querySelector","toDataURL","doc","jsPDF","text","addImage","save","workShiftId","usersRef","firestore","collection","where","get","result","docs","historicalRef","orderBy","historical","workShiftDocs","workShiftsDb","forEach","workShiftDoc","toDate","startRegist","buildStartRegist","endRegist","buildEndRegist","addOrUpdateData","accumulatedData","i","length","entry","averageInArray","array","count","parseStringHourToNumber","toFixed","stringHour","split","parseFloat","regist","needAdd","FormControl","InputLabel","NativeSelect","key","startIcon","size","LinearProgress","ref","options","LineChar","generateColor","quantity","Math","random","toString","substr","buildDougData","backgroundColors","hoverBGColors","hoverBackgroundColor","buildBarData","borderWidth","optionsBar","optionsDoug","fontSize","BarsChartBase","barChart","dougChart","imgDataBar","imgDataDoug","calculateData","findData","rawData","groupedData","groupData","getLabels","averages","getAverages","dataQuantity","getDataQuantity","barData","dougData","userDocId","userRef","userDoc","exists","historicalData","workedTime","getWorkedTime","startInt","endInt","newEntry","BarsChart","chart","padding","textAlign","palette","secondary","DashboardBase","Card","CardHeader","LineChart","Dashboard","flex","textOverflow","whiteSpace","overflow","spacer","MyAppBar","MyLayout","Layout","appBar","createHistory","require","createBrowserHistory","createMuiTheme","primary","main","dataProvider","FirebaseDataProvider","basename","AdminDashboard","Admin","layout","dashboard","Resource","showAlert","PasswordForgetForm","sendPasswordResetEmail","PasswordForget","SignUpForm","add","multiline","rows","SignUp","stylesWelcome","WelcomeBase","sources","srcSet","logoMobile","media","logo","gutterBottom","Welcome","GreenButton","getContrastText","green","YellowButton","yellow","GreyButton","grey","IncidenceBtnBase","handleClickOpen","handleRegist","dateToRegist","limit","historicalDocs","updateHistorical","addHistorical","closeAlert","hour","canRegistStart","canRegistEnd","updateEntry","historicalId","update","window","reload","docRef","Dialog","aria-labelledby","AlertTitle","DialogTitle","DialogContent","maxdate","InputProps","max","DialogActions","IncidenceBtn","HistoricalBtnBase","handleExport","startDate","endDate","historicalDoc","row","parseHistoricalData","jsPdfGenerator","autoTable","html","headStyles","fillColor","head","body","HistoricalBtn","MyClock","clockSeparator","textShadow","fontFamily","StyledTableCell","common","white","TableCell","StyledTableRow","background","default","TableRow","tableContainer","overflowX","table","getTime","minutes","getMinutes","getHours","RegistTimeBase","onStart","historicalTodayDocId","time","updateData","loadData","forceUpdate","onEnd","actionBtns","disableStart","disableEnd","userDocs","isToday","dateWithoutFormat","TableContainer","Paper","Table","aria-label","TableHead","align","TableBody","scope","RegistTime","Home","PrivateRoute","render","from","App","ThemeProvider","wrapper","exact","path","HomePage","SignInPage","PasswordForgetPage","SignUpPage","footer","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.90db0481.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"home_app__3cH-x\",\"wrapper\":\"home_wrapper__zeuiS\",\"footer\":\"home_footer__2CGIz\",\"logo\":\"home_logo__xr1S3\"};","module.exports = \"data:image/png;base64,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\"","export const SKY = '#CAEBF2';\r\nexport const CARBON = '#A9A9A9';\r\nexport const WATERMELON = '#FF3B3F';\r\nexport const NEUTRAL = '#EFEFEF';\r\nexport const GREEN = \"#1CFF24\";\r\nexport const YELLOW = \"#FAFA06\";","import * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\n\r\nexport const app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n});","import React, { useEffect, useState } from \"react\";\r\nimport { app } from \"./firebase\";\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    app.auth().onAuthStateChanged(setCurrentUser);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{currentUser}}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n\r\n};","import * as React from \"react\";\r\nimport * as COLORS from '../../constants/colors';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types' \r\nimport { withRouter } from 'react-router'\r\n\r\n\r\nclass AdminSlideBase extends React.Component {\r\n\r\n    static propTypes = {\r\n        location: PropTypes.object.isRequired,\r\n        history: PropTypes.object.isRequired\r\n    }\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = { \r\n          checked: false\r\n        };\r\n        this._isMounted = false;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        this.setState({\r\n            checked : this.props.location.pathname.includes('admin')\r\n        });\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this._isMounted = false;\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        if (event.target.checked){\r\n            this.props.history.push(ROUTES.ADMIN);\r\n        } else{\r\n            this.props.history.push(ROUTES.LANDING);\r\n        }\r\n\r\n        this.setState({\r\n            [event.target.name] : event.target.checked\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { location } = this.props\r\n        const checked = location.pathname.includes('admin') && this.state.checked;\r\n        return (\r\n            <FormControlLabel\r\n            control={<Switch checked={checked} color=\"primary\" onChange={this.handleChange} name=\"checked\"/>}\r\n            label={<Typography variant=\"h6\" style={{color: COLORS.WATERMELON}}>Admin</Typography>}          />\r\n        );\r\n    }\r\n}\r\n\r\nconst AdminSlide = withRouter(AdminSlideBase)\r\n\r\nexport default AdminSlide;\r\n\r\n\r\n","export const LANDING = '/';\r\nexport const SIGN_IN = '/signin';\r\nexport const HOME = '/home';\r\nexport const ADMIN = '/admin';\r\nexport const PASSWORD_FORGET = \"/passwordforget\";\r\nexport const SIGN_UP = '/signup';","import React, { useEffect, useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport * as COLORS from '../../constants/colors';\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { AuthContext } from '../Firebase/context';\r\nimport { app } from '../Firebase/firebase';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport AdminSlide from './adminslide';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n  \r\n    title: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    adminmode: {\r\n      flexGrow: 1,\r\n    },\r\n  }),\r\n);\r\n\r\nexport default function Navigation() {\r\n  const classes = useStyles();\r\n  const [isAdmin, setIsAdmin] = useState(null);\r\n\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      currentUser.getIdTokenResult()\r\n      .then((idTokenResult) => {\r\n        if (!!idTokenResult.claims.admin) {\r\n          setIsAdmin(true);\r\n        }\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      })\r\n    }\r\n  }, [currentUser]);\r\n  \r\n  function logout() {\r\n    app.auth().signOut();\r\n    setIsAdmin(false);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{backgroundColor: 'white'}}>\r\n        <Toolbar>\r\n          <Grid justify=\"space-between\" container>\r\n            <Grid item>\r\n              <div>\r\n                <Typography variant=\"h6\" className={classes.title}>\r\n                  <Link to={ROUTES.LANDING} style={{color: COLORS.CARBON}}>\r\n                    FicTime\r\n                  </Link>\r\n                </Typography>\r\n              </div>\r\n            </Grid>\r\n            <Grid item>\r\n                { isAdmin ? <AdminSlide className={classes.adminmode}></AdminSlide> : null}                \r\n            </Grid>\r\n            <Grid item>\r\n              { currentUser ? \r\n              <Button component={ Link } to={ROUTES.LANDING} onClick={logout} style={{color: COLORS.CARBON}}>Sign Out</Button> : <Button component={ Link } to={ROUTES.SIGN_IN} style={{color: COLORS.CARBON}}>Login</Button>}\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import * as COLORS from '../constants/colors.js'\r\n\r\n\r\nexport const formStyles = theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: COLORS.WATERMELON,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  alert: {\r\n    marginBottom: theme.spacing(10),\r\n  }\r\n});\r\n\r\nexport const chartsStyles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  chart: {\r\n    padding: theme.spacing(10),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n});\r\n\r\n\r\nexport const registTime = theme => ({\r\n  tableContainer: {\r\n      marginTop: theme.spacing(5),\r\n      width: \"%\",\r\n      overflowX: \"auto\",\r\n      marginBottom: theme.spacing(2),\r\n      margin: \"auto\",\r\n      maxWidth: 800,\r\n  },\r\n  table: {\r\n      minWidth: 700,\r\n      width: \"25%\"\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  container: {\r\n    textAlign: \"center\",\r\n  }\r\n});\r\n\r\nexport const registIncidence = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    margin: theme.spacing(2),\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  formControl: {\r\n    marginLeft: theme.spacing(3),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n});\r\n\r\n\r\nexport const workShiftSelector = theme => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  container: {\r\n    margin: theme.spacing(4),\r\n  }\r\n});\r\n\r\n\r\nexport const navigation = theme => ({ \r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n  \r\n    title: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    adminmode: {\r\n      flexGrow: 1,\r\n    },\r\n});\r\n\r\nexport const welcome = theme => ({\r\n  container: {\r\n    margin: theme.spacing(10),\r\n    textAlign: \"center\",\r\n  },\r\n  title: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3)\r\n  }\r\n})\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport * as Utils from '../../constants/utils';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport { compose } from 'recompose';\r\nimport { withRouter } from 'react-router';\r\nimport { app } from '../Firebase/firebase';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nconst styles = Utils.formStyles;\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  password: '',\r\n  openAlert: false\r\n};\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nclass SignInFormBase extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({\r\n       [event.target.name] : event.target.value\r\n      });\r\n  };\r\n\r\n  onSubmit = event => {\r\n    const { email, password } = this.state;\r\n    event.preventDefault();\r\n    app.auth().signInWithEmailAndPassword(email.trim(), password)\r\n    .then(() => {\r\n      this.props.history.push(ROUTES.LANDING)\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      this.setState({ openAlert: true });\r\n    })\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState( {openAlert: false});\r\n  }\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form onSubmit={this.onSubmit}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              value={email}\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={this.onChange}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              value={password}\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={this.onChange}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link component={RouterLink} to={ROUTES.PASSWORD_FORGET} variant=\"body2\">\r\n                  Forgot password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link component={RouterLink} to={ROUTES.SIGN_UP} variant=\"body2\">\r\n                  Don't have an account? Sign Up?\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n          <Snackbar className={classes.alert} open={this.state.openAlert} autoHideDuration={6000} onClose={this.handleClose}>\r\n            <Alert onClose={this.handleClose} severity=\"error\">\r\n              Authentication error\r\n            </Alert>\r\n          </Snackbar>            \r\n        </div>\r\n      </Container>      \r\n    )\r\n  }\r\n}\r\n\r\nSignInFormBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst SignIn = compose(withRouter, withStyles(styles))(SignInFormBase);\r\n\r\n\r\nexport default SignIn;","import React from 'react';\r\nimport { List, downloadCSV, Datagrid, TextField, EmailField, DateField } from 'react-admin';\r\nimport jsonExport from 'jsonexport/dist';\r\n\r\nconst exporter = accounts => {\r\n    const accountsForExport = accounts.map(account => {\r\n        const { id, openAlert, ...accountForExport } = account;\r\n        return accountForExport;\r\n    });\r\n    jsonExport(accountsForExport, {\r\n        headers: ['date', 'description', 'email' ]\r\n    }, (err, csv) => {\r\n        downloadCSV(csv, 'accounts');\r\n    });\r\n};\r\n\r\n\r\nconst AccountList = props => (\r\n    <List {...props} title=\"Accounts\" exporter={exporter}>\r\n        <Datagrid>\r\n            <EmailField source=\"email\" />\r\n            <TextField source=\"description\" />\r\n            <DateField source=\"date\" />\r\n        </Datagrid>\r\n    </List>\r\n);\r\n\r\nexport default AccountList;","import AccountIcon from '@material-ui/icons/GroupAdd';\r\nimport AccountList from './AccountList';\r\n\r\nexport default {\r\n    icon: AccountIcon,\r\n    list: AccountList\r\n};","import React from 'react';\r\nimport { List, downloadCSV, Datagrid, TextField } from 'react-admin';\r\nimport jsonExport from 'jsonexport/dist';\r\n\r\nconst exporter = offices => {\r\n    const officesForExport = offices.map(office => {\r\n        const { id,coordinates,lastupdate,updatedby,createdate,createdby, ...officeForExport } = office;\r\n        return officeForExport;\r\n    });\r\n    jsonExport(officesForExport, {\r\n        headers: ['name', 'location']\r\n    }, (err, csv) => {\r\n        downloadCSV(csv, 'offices');\r\n    });\r\n};\r\n\r\nconst OfficesList = props => (\r\n    <List {...props} bulkActionButtons={false} exporter={exporter}>\r\n        <Datagrid rowClick=\"edit\">\r\n            <TextField source=\"name\" />\r\n            <TextField source=\"location\" />\r\n        </Datagrid>\r\n    </List>\r\n);\r\n\r\nexport default OfficesList;","import React from 'react';\r\nimport PlacesAutocomplete, {geocodeByAddress, getLatLng } from 'react-places-autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport * as COLORS from '../../../constants/colors';\r\n\r\nexport default class PlaceAutocomplete extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            location: this.props.record.location ? this.props.record.location : \"\",\r\n            coordinates: {\r\n                lat: null,\r\n                lng: null\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = location => {\r\n        this.setState({ location });\r\n    }\r\n\r\n    handleSelect = location => {\r\n        geocodeByAddress(location)\r\n            .then(results => getLatLng(results[0]))\r\n            .then(latLng => {\r\n                this.setState({ location : location});\r\n                this.setState({ coordinates: latLng });\r\n                const form = this.props.formData;\r\n                form.change('location', location);\r\n                form.change('coordinates', latLng);\r\n            })\r\n            .catch(\r\n                error => console.error('Error', error)\r\n            );\r\n    };\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <PlacesAutocomplete\r\n                    value={this.state.location}\r\n                    onChange={this.handleChange}\r\n                    onSelect={this.handleSelect}\r\n                >\r\n                    {({ getInputProps, suggestions, getSuggestionItemProps, loading}) => (\r\n                        <div>\r\n\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                fullWidth\r\n                                required\r\n                                {...getInputProps()}\r\n                                id=\"location\"\r\n                                label=\"Location\"/>\r\n                            <div>\r\n                                {loading ? <div>...loading</div> : null}\r\n                            \r\n                                {suggestions.map(suggestion => {\r\n                                    const className = suggestion.active\r\n                                        ? 'suggestion-item--active'\r\n                                        : 'suggestion-item';\r\n                                    const style = suggestion.active\r\n                                        ? { backgroundColor: COLORS.SKY, cursor: 'pointer', verticalAlign: \"top\"}\r\n                                        : { backgroundColor: '#ffffff', cursor: 'pointer', verticalAlign: 'middle'};        \r\n                                    return( \r\n                                        <div {...getSuggestionItemProps(suggestion, { className, style })}>\r\n                                            <span>{suggestion.description}</span>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </PlacesAutocomplete>\r\n            </div>\r\n        );\r\n\r\n      }\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport PlaceAutocomplete from './PlaceAutocomplete';\r\nimport { Edit, SimpleForm, TextInput, Toolbar, required, FormDataConsumer } from 'react-admin';\r\nimport { useForm } from 'react-final-form';\r\nimport { SaveButton, DeleteButton } from 'react-admin';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\n\r\nconst Address = ({ formData, ...rest }) =>{\r\n    const form = useForm();\r\n\r\n    return (\r\n        <Fragment>\r\n            <PlaceAutocomplete formData={form} {...rest}/>\r\n        </Fragment>\r\n    );\r\n}\r\nconst OfficeTitle = ({ record }) => {\r\n    return <span>Office {record ? `${record.name}` : ''}</span>;\r\n};\r\n\r\nconst toolbarStyles = {\r\n    toolbar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n};\r\n\r\nconst OfficeToolbar = withStyles(toolbarStyles) (props => (\r\n    <Toolbar {...props}>\r\n        <SaveButton label=\"Save\" redirect=\"list\" submitOnEnter={false} />\r\n        <DeleteButton label=\"DELETE\" undoable={false} submitOnEnter={false}/>\r\n    </Toolbar>\r\n))\r\n\r\nconst OfficeEdit = props => (\r\n    <Edit title={<OfficeTitle />} {...props}>\r\n        <SimpleForm toolbar={<OfficeToolbar />}>\r\n            <TextInput source=\"name\" validate={required()}/>\r\n            <FormDataConsumer>\r\n                {formDataProps => <Address {...formDataProps}/>}\r\n            </FormDataConsumer>\r\n        </SimpleForm>\r\n    </Edit>\r\n);\r\n\r\nexport default OfficeEdit;","import React, { Fragment } from 'react';\r\nimport { Create, SimpleForm, TextInput, required, FormDataConsumer } from 'react-admin';\r\nimport PlaceAutocomplete from './PlaceAutocomplete';\r\nimport { useForm } from 'react-final-form';\r\n\r\n\r\n\r\n\r\nconst Address = ({ formData, ...rest }) =>{\r\n    const form = useForm();\r\n\r\n    return (\r\n        <Fragment>\r\n            <PlaceAutocomplete formData={form} {...rest}/>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nconst OfficeCreate = props => (\r\n    <Create {...props}>\r\n        <SimpleForm redirect=\"list\">\r\n            <TextInput source=\"name\" validate={required()}/>\r\n            <FormDataConsumer>\r\n                {formDataProps => <Address {...formDataProps}/>}\r\n            </FormDataConsumer>\r\n        </SimpleForm>\r\n    </Create>\r\n);\r\n\r\nexport default OfficeCreate;","import OfficeIcon from '@material-ui/icons/Business';\r\nimport OfficesList from './OfficesList';\r\nimport OfficeEdit from './OfficeEdit';\r\nimport OfficeCreate from './OfficeCreate';\r\n\r\nexport default {\r\n    icon: OfficeIcon,\r\n    list: OfficesList,\r\n    edit: OfficeEdit,\r\n    create: OfficeCreate \r\n};","import React from 'react';\r\nimport { List, downloadCSV, Datagrid, TextField } from 'react-admin';\r\nimport jsonExport from 'jsonexport/dist';\r\n\r\n\r\nconst exporter = workShifts => {\r\n    const workShiftsForExport = workShifts.map(workShift => {\r\n        const { id,createdby,updatedby,lastupdate,createdate, ...workShiftForExport } = workShift;\r\n        return workShiftForExport;\r\n    });\r\n    jsonExport(workShiftsForExport, {\r\n        headers: ['name', 'startTime', 'endTime' ]\r\n    }, (err, csv) => {\r\n        downloadCSV(csv, 'workShifts');\r\n    });\r\n};\r\n\r\n\r\n\r\nconst TurnList = props => (\r\n    <List {...props} bulkActionButtons={false} exporter={exporter}>\r\n        <Datagrid rowClick=\"edit\">\r\n            <TextField source=\"name\" />\r\n            <TextField source=\"startTime\" />\r\n            <TextField source=\"endTime\" />\r\n        </Datagrid>\r\n    </List>\r\n);\r\n\r\nexport default TurnList;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { useField } from 'react-final-form';\r\n\r\nconst TimePicker = ({ name, label, defaultValue }) => {\r\n    const {\r\n        input: { onChange },\r\n        meta: { touched, error }\r\n    } = useField(name);\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        container: {\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n        },\r\n        textField: {\r\n            marginLeft: theme.spacing(1),\r\n            marginRight: theme.spacing(1),\r\n            width: 200,\r\n        },\r\n    }));\r\n  const classes = useStyles();\r\n\r\n    return (\r\n        <TextField\r\n            name={name}\r\n            margin=\"normal\"\r\n            label={label}\r\n            onChange={onChange}\r\n            className={classes.textField}\r\n            error={!!(touched && error)}\r\n            helperText={touched && error}\r\n            defaultValue={defaultValue}\r\n            type=\"time\"\r\n            InputLabelProps={{\r\n                shrink: true,\r\n            }}\r\n            inputProps={{\r\n                step: 300,\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\nexport default TimePicker;","import React, { Fragment } from 'react';\r\nimport { Create, SimpleForm, TextInput, required } from 'react-admin';\r\nimport TimePicker from './TimePicker';\r\n\r\n\r\nconst Times = () =>{\r\n    return (\r\n        <Fragment>\r\n            <TimePicker name=\"startTime\" label=\"Start Time\" />\r\n            <TimePicker name=\"endTime\" label=\"End Time\" />    \r\n        </Fragment>\r\n    );\r\n}\r\n\r\nconst TurnCreate = props => (\r\n    <Create {...props}>\r\n        <SimpleForm redirect=\"list\">\r\n            <TextInput source=\"name\" validate={required()}/>\r\n            <Times />\r\n        </SimpleForm>\r\n    </Create>\r\n);\r\n\r\n\r\nexport default TurnCreate;","import React, { Fragment } from 'react';\r\nimport { Edit, Toolbar, FormDataConsumer, SimpleForm, TextInput, required } from 'react-admin';\r\nimport TimePicker from './TimePicker';\r\nimport { SaveButton, DeleteButton } from 'react-admin';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\n\r\nconst Times = ({ formData }) => {\r\n    return (\r\n        <Fragment>\r\n            <TimePicker name=\"startTime\" label=\"Start Time\" defaultValue={formData.startTime} />\r\n            <TimePicker name=\"endTime\" label=\"End Time\" defaultValue={formData.endTime} />\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nconst WorkShiftTitle = ({ record }) => {\r\n    return <span>WorkShift {record ? `${record.name}` : ''}</span>;\r\n};\r\n\r\nconst toolbarStyles = {\r\n    toolbar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n};\r\n\r\nconst WorkShiftToolbar = withStyles(toolbarStyles) (props => (\r\n    <Toolbar {...props}>\r\n        <SaveButton label=\"Save\" redirect=\"list\" submitOnEnter={false} />\r\n        <DeleteButton label=\"DELETE\" undoable={false} submitOnEnter={false}/>\r\n    </Toolbar>\r\n))\r\n\r\nconst WorkShiftEdit = props => (\r\n    <Edit title={<WorkShiftTitle />} {...props}>\r\n        <SimpleForm toolbar={<WorkShiftToolbar />}>\r\n            <TextInput source=\"name\" validate={required()}/>\r\n            <FormDataConsumer>\r\n                {formDataProps => <Times {...formDataProps}/>}\r\n            </FormDataConsumer>\r\n        </SimpleForm>\r\n    </Edit>\r\n);\r\n\r\nexport default WorkShiftEdit;","import WorkShiftIcon from '@material-ui/icons/AccessTime';\r\nimport WorkShiftList from './WorkShiftList';\r\nimport WorkShiftCreate from './WorkShiftCreate';\r\nimport WorkShiftEdit from './WorkShiftEdit';\r\n\r\nexport default {\r\n    icon: WorkShiftIcon,\r\n    list: WorkShiftList,\r\n    create: WorkShiftCreate,\r\n    edit: WorkShiftEdit \r\n};","import React from 'react';\r\nimport { List, downloadCSV, Datagrid, TextField, EmailField, ReferenceField, SearchInput, Filter, BooleanField } from 'react-admin';\r\nimport jsonExport from 'jsonexport/dist';\r\n\r\n\r\nconst exporter = users => {\r\n    const usersForExport = users.map(user => {\r\n        const { id,office,admin,workShift,updatedby,createdby,createdate,password,lastupdate, ...userForExport } = user;\r\n        return userForExport;\r\n    });\r\n    jsonExport(usersForExport, {\r\n        headers: ['email', 'name', 'dni' ]\r\n    }, (err, csv) => {\r\n        downloadCSV(csv, 'users');\r\n    });\r\n};\r\n\r\n\r\n\r\nconst Userfilters = props => (\r\n    <Filter {...props}>\r\n        <SearchInput placeholder=\"Search by name\" source=\"name\" alwaysOn />\r\n        <SearchInput placeholder=\"Email\" source=\"email\"/>\r\n        <SearchInput placeholder=\"DNI\" source=\"dni\"/>\r\n    </Filter>\r\n);\r\n\r\nconst UserList = props => (\r\n    <List {...props} filters={<Userfilters />} title=\"Users\" bulkActionButtons={false} exporter={exporter}>\r\n        <Datagrid rowClick=\"edit\">\r\n            <EmailField source=\"email\" />\r\n            <TextField source=\"name\" />\r\n            <TextField source=\"dni\" />\r\n\r\n            <ReferenceField label=\"Office\" source=\"office\" reference=\"offices\">\r\n                <TextField source=\"name\" />\r\n            </ReferenceField>\r\n            <ReferenceField label=\"Work Shift\" source=\"workShift\" reference=\"workShifts\">\r\n                <TextField source=\"name\" />\r\n            </ReferenceField>\r\n            <BooleanField source=\"admin\" />\r\n        </Datagrid>\r\n    </List>\r\n);\r\n\r\nexport default UserList;","import React, { useCallback } from 'react';\r\nimport { useForm } from 'react-final-form';\r\nimport axios from 'axios';\r\nimport { SaveButton } from 'react-admin';\r\n\r\nconst CustomSave = ({ handleSubmitWithRedirect, ...props }) => {\r\n    const form = useForm();\r\n\r\n    const handleClick = useCallback(() => {\r\n        const email = form.getFieldState('email').value;\r\n        const password = form.getFieldState('password').value;\r\n        const name = form.getFieldState('name').value;\r\n        const isAdmin = form.getFieldState('admin').value;\r\n    \r\n        const userObject = {\r\n            user: {\r\n                email: email,\r\n                password: password,\r\n                displayName: name\r\n            },\r\n            admin : isAdmin\r\n        };  \r\n        axios.post('/users/create', userObject)\r\n            .then((res) => {\r\n                form.change('password', ' ');\r\n                handleSubmitWithRedirect('list');\r\n            }).catch((error) => {\r\n                var errorMessage = error.response.data.error;\r\n                console.log(errorMessage);  \r\n            });\r\n    }, [form, handleSubmitWithRedirect ]);\r\n\r\n    // override handleSubmitWithRedirect with custom logic\r\n    return <SaveButton {...props} handleSubmitWithRedirect={handleClick} />;\r\n};\r\n\r\nexport default CustomSave;","import React, {Fragment} from 'react';\r\nimport { Create, Toolbar, SimpleForm, TextInput, required, ReferenceInput, SelectInput, PasswordInput, BooleanInput } from 'react-admin';\r\nimport CustomSave from './CustomSave';\r\n\r\n\r\nconst WorkData = () =>{\r\n    return (\r\n        <Fragment>\r\n            <span>\r\n                <ReferenceInput label=\"Office\" source=\"office\" reference=\"offices\">\r\n                    <SelectInput optionText=\"name\" />\r\n                </ReferenceInput>\r\n                &nbsp;\r\n                <ReferenceInput label=\"Work Shift\" source=\"workShift\" reference=\"workShifts\">\r\n                    <SelectInput optionText=\"name\" />\r\n                </ReferenceInput>            \r\n            </span>      \r\n        </Fragment>\r\n    );\r\n}\r\n\r\nconst LoginData = () => {\r\n    return (\r\n        <Fragment>\r\n            <span>\r\n                <TextInput source=\"email\" type=\"email\" validate={required()}/>\r\n                &nbsp;\r\n                <PasswordInput source=\"password\" validate={required()}/>\r\n            </span>        \r\n        </Fragment>\r\n    );\r\n};\r\n\r\nconst UserCreateToolbar = props => (\r\n    <Toolbar {...props}>\r\n        <CustomSave\r\n            label=\"Save\"\r\n            redirect=\"list\"\r\n            submitOnEnter={false}\r\n        />\r\n    </Toolbar>\r\n);\r\n\r\nconst UserCreate = props => (\r\n    <Create {...props}>\r\n        <SimpleForm toolbar={<UserCreateToolbar />}>\r\n            <TextInput source=\"name\" validate={required()}/>\r\n            <TextInput source=\"dni\"/>\r\n            <WorkData/>\r\n            <LoginData/>\r\n            <BooleanInput label=\"Admin\" source=\"admin\" />\r\n        </SimpleForm>\r\n    </Create>\r\n);\r\n\r\nexport default UserCreate;","import React, { useCallback } from 'react';\r\nimport { useForm } from 'react-final-form';\r\nimport axios from 'axios';\r\nimport { DeleteButton } from 'react-admin';\r\n\r\nconst CustomUserDelete = ({ ...props }) => {\r\n    const form = useForm();\r\n\r\n    const handleClick = useCallback(() => {\r\n        const email = form.getFieldState('email').value;\r\n        const id = props.id;\r\n        axios.delete(`/users/delete/${email}/${id}`, {})\r\n\r\n    }, [form, props.id]);\r\n\r\n    return <DeleteButton {...props} onClick={handleClick} />;\r\n\r\n};\r\n\r\nexport default CustomUserDelete;","import React, { useCallback } from 'react';\r\nimport { useForm } from 'react-final-form';\r\nimport axios from 'axios';\r\nimport { SaveButton } from 'react-admin';\r\n\r\nconst CustomSaveEdit = ({ handleSubmitWithRedirect, ...props }) => {\r\n    const form = useForm();\r\n\r\n    const handleClick = useCallback(() => {\r\n        const email = form.getFieldState('email').value;\r\n        const isAdmin = form.getFieldState('admin').value;\r\n    \r\n        const userObject = {\r\n            admin : isAdmin\r\n        };  \r\n\r\n        axios.put(`/users/updateAdm/${email}`, userObject)\r\n            .then((res) => {\r\n                handleSubmitWithRedirect('list');\r\n            }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }, [form, handleSubmitWithRedirect ]);\r\n\r\n    // override handleSubmitWithRedirect with custom logic\r\n    return <SaveButton {...props} handleSubmitWithRedirect={handleClick} />;\r\n};\r\n\r\nexport default CustomSaveEdit;","import React, { Fragment } from 'react';\r\nimport { Edit, SimpleForm, TextInput, required, ReferenceInput, SelectInput, Toolbar, BooleanInput } from 'react-admin';\r\nimport CustomUserDelete from './CustomUserDelete';\r\nimport CustomSaveEdit from './CustomSaveEdit';\r\nimport { withStyles } from '@material-ui/core';\r\n\r\nconst WorkData = () =>{\r\n    return (\r\n        <Fragment>\r\n            <span>\r\n                <ReferenceInput label=\"Office\" source=\"office\" reference=\"offices\">\r\n                    <SelectInput optionText=\"name\" />\r\n                </ReferenceInput>\r\n                &nbsp;\r\n                <ReferenceInput label=\"Work Shift\" source=\"workShift\" reference=\"workShifts\">\r\n                    <SelectInput optionText=\"name\" />\r\n                </ReferenceInput>            \r\n            </span>       \r\n        </Fragment>\r\n    );\r\n}\r\n\r\n\r\nconst toolbarStyles = {\r\n    toolbar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n    },\r\n};\r\n\r\nconst UserEditToolbar = withStyles(toolbarStyles) (props => (\r\n    <Toolbar {...props}>\r\n        <CustomSaveEdit label=\"Save\" redirect=\"list\" submitOnEnter={false} />\r\n        <CustomUserDelete id={props.record.id} label=\"DELETE\" undoable={false} submitOnEnter={false}/>\r\n    </Toolbar>\r\n))\r\n\r\nconst UserTitle = ({ record }) => {\r\n    return <span>User {record ? `${record.name}` : ''}</span>;\r\n};\r\n\r\nconst UserEdit = props => (\r\n    <Edit title={<UserTitle />} {...props}>\r\n        <SimpleForm toolbar={<UserEditToolbar />}>\r\n            <TextInput source=\"email\" disabled/>\r\n            <TextInput source=\"name\" validate={required()}/>\r\n            <TextInput source=\"dni\"/>\r\n            <WorkData/>\r\n            <BooleanInput label=\"Admin\" source=\"admin\" />\r\n        </SimpleForm>\r\n    </Edit>\r\n);\r\n\r\nexport default UserEdit;","import UserIcon from '@material-ui/icons/People';\r\nimport UserList from './UserList';\r\nimport UserCreate from './UserCreate';\r\nimport UserEdit from './UserEdit';\r\n\r\nexport default {\r\n    icon: UserIcon,\r\n    list: UserList,\r\n    create: UserCreate,\r\n    edit: UserEdit\r\n};","import React from 'react';\r\nimport { List, downloadCSV, Datagrid, TextField, ReferenceField, Filter, ReferenceInput, AutocompleteInput, DateField } from 'react-admin';\r\nimport jsonExport from 'jsonexport/dist';\r\n\r\nconst exporter = (records, fetchRelatedRecords) => {\r\n\r\n    fetchRelatedRecords(records, \"user\", \"users\").then(historicals => {\r\n        const data = records.map(record => ({date: record.date, start: record.start, end: record.end,\r\n            name: historicals[record.user].name,\r\n            dni: historicals[record.user].dni\r\n        }));\r\n        jsonExport(data, {\r\n            headers: ['name', 'dni', 'date', 'start', 'end']\r\n        }, (err, csv) => {\r\n            downloadCSV(csv, 'historicals');\r\n        });\r\n    })\r\n\r\n};\r\n\r\nconst HistoricalFilters = props => (\r\n    <Filter {...props}>\r\n        <ReferenceInput\r\n                label=\"dni\"\r\n                source=\"user\"\r\n                reference=\"users\"\r\n                filterToQuery={searchText => ({ dni: searchText })}>\r\n                <AutocompleteInput optionText=\"dni\" />\r\n        </ReferenceInput>\r\n    </Filter>\r\n);\r\n\r\n\r\n\r\nconst HistoricalList = props => (\r\n    <List {...props} exporter={exporter} filters={<HistoricalFilters />} title=\"Historicals\" bulkActionButtons={false}>\r\n        <Datagrid>\r\n            <ReferenceField label=\"Email\" source=\"user\" reference=\"users\">\r\n                <TextField source=\"email\" />\r\n            </ReferenceField>\r\n            <ReferenceField label=\"DNI\" source=\"user\" reference=\"users\">\r\n                <TextField source=\"dni\" />\r\n            </ReferenceField>                        \r\n            <DateField source=\"date\" />\r\n            <TextField source=\"start\" />\r\n            <TextField source=\"end\" />\r\n        </Datagrid>\r\n    </List>\r\n);\r\n\r\nexport default HistoricalList;","import HistoricalIcon from '@material-ui/icons/History';\r\nimport HistoricalList from './HistoricalList';\r\n\r\nexport default {\r\n    icon: HistoricalIcon,\r\n    list: HistoricalList\r\n};","import React, {Component} from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withStyles } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport * as Utils from '../../../../constants/utils';\r\nimport { app } from '../../../Firebase/firebase'\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport Button from '@material-ui/core/Button';\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport jsPDF from 'jspdf';\r\n\r\n\r\n\r\nfunction processAverage(startAverage, endAverage){\r\n  var labels = [];\r\n  var startData = [];\r\n  var endData = [];\r\n\r\n  for (var entryStart of startAverage){\r\n    labels.push(entryStart.date);\r\n    startData.push(entryStart.average);\r\n  }\r\n  for (var entryEnd of endAverage){\r\n    endData.push(entryEnd.average);\r\n  }\r\n  return buildCharData(labels, startData, endData);\r\n}\r\n\r\nconst optionsGraphic = {\r\n  responsive: true,\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        ticks: {\r\n          autoSkip: true,\r\n          maxTicksLimit: 5\r\n        }\r\n      }\r\n    ],\r\n  },\r\n  legend: {\r\n    labels: {\r\n      boxWidth: 25\r\n    },\r\n  },\r\n  tooltips: {\r\n    mode: 'nearest',\r\n    intersect: true,\r\n  }\r\n};\r\n\r\nfunction buildCharData(labels, starData, endData){\r\n   return {\r\n    labels: labels,\r\n    datasets: [\r\n      {\r\n        label: 'Start',\r\n        fill: false,\r\n        lineTension: 0.1,\r\n        backgroundColor: '#17FD07',\r\n        borderColor: '#17FD07',\r\n        borderCapStyle: 'butt',\r\n        borderDash: [],\r\n        borderDashOffset: 0.0,\r\n        borderJoinStyle: 'miter',\r\n        pointBorderColor: '#17FD07',\r\n        pointBackgroundColor: '#fff',\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n        pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n        pointHoverBorderWidth: 2,\r\n        pointRadius: 1,\r\n        pointHitRadius: 10,\r\n        data: starData\r\n      },\r\n      {\r\n        label: 'End',\r\n        fill: false,\r\n        lineTension: 0.1,\r\n        backgroundColor: '#FD0707',\r\n        borderColor: '#FD0707',\r\n        borderCapStyle: 'butt',\r\n        borderDash: [],\r\n        borderDashOffset: 0.0,\r\n        borderJoinStyle: 'miter',\r\n        pointBorderColor: '#FD0707',\r\n        pointBackgroundColor: '#fff',\r\n        pointBorderWidth: 1,\r\n        pointHoverRadius: 5,\r\n        pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n        pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n        pointHoverBorderWidth: 2,\r\n        pointRadius: 1,\r\n        pointHitRadius: 10,\r\n        data: endData\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\nconst styles = Utils.workShiftSelector;\r\n\r\nfunction pad(s) { return (s < 10) ? '0' + s : s; }\r\n\r\nfunction getLastMonthDateformat() {\r\n    var today = new Date();\r\n    today.setMonth(today.getMonth() - 1)\r\n    return [today.getFullYear(), pad(today.getMonth() + 1), pad(today.getDate())].join('-')\r\n}\r\n\r\nfunction getTodayDateformat() {\r\n  var today = new Date();\r\n  return [today.getFullYear(), pad(today.getMonth() + 1), pad(today.getDate())].join('-')\r\n}\r\n\r\nfunction convertDate(date) {\r\n  function pad(s) { return (s < 10) ? '0' + s : s; }\r\n  return [pad(date.getDate()), pad(date.getMonth()+1), date.getFullYear()].join('/')\r\n}\r\n\r\nclass LineChartBase extends Component {\r\n\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      loading : false,\r\n      workShifts: [],\r\n      charData: buildCharData([],[],[])\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    app.firestore().collection('workShifts')\r\n    .orderBy('name', 'desc')\r\n    .get()\r\n    .then(workShiftDocs => {\r\n      var workShiftsDb = [];\r\n      workShiftDocs.forEach(workShiftDoc => {\r\n        var data = workShiftDoc.data();\r\n        workShiftsDb.push({name: data.name, \r\n        value: {id: workShiftDoc.id,\r\n                  start: data.startTime,\r\n                  end: data.endTime\r\n        }})\r\n      })\r\n      this.setState({workShifts: workShiftsDb});\r\n    })\r\n\r\n  }\r\n\r\n  findWorkShiftById(id) {\r\n    var result = {start: \"00:00\", end: \"00:00\"};\r\n    this.state.workShifts.forEach(workShift => {\r\n      if (workShift.value.id === id){\r\n        result = {start: workShift.value.start, end: workShift.value.end};\r\n      }\r\n    })\r\n    return result;\r\n  };\r\n\r\n  buildStartRegist(workShiftHourData, historical) {\r\n    var date = convertDate(historical.date.toDate());\r\n    var start = historical.start == null ? workShiftHourData.start : historical.start;\r\n    return {date: date, value: start};\r\n  }\r\n\r\n  buildEndRegist(workShiftHourData, historical) {\r\n    var date = convertDate(historical.date.toDate());\r\n    var end = historical.end == null ? workShiftHourData.end : historical.end;\r\n    return {date: date, value: end};\r\n  }\r\n\r\n  handleChange = async(event) => {\r\n    if (event.target.value !== \"NONE\") {\r\n      this.setState({loading: true})\r\n      try {\r\n        var startAccumulateData = [];\r\n        var endAccumulateData = [];\r\n        var workShiftHourData = this.findWorkShiftById(event.target.value);\r\n        var historicals = await this.findHistoricals(event.target.value);\r\n        this.accumulateData(historicals, workShiftHourData, startAccumulateData, endAccumulateData);\r\n        var startAverage = this.calculateAverage(startAccumulateData);\r\n        var endAverage = this.calculateAverage(endAccumulateData);\r\n        this.setState({charData: processAverage(startAverage, endAverage), loading: false});\r\n\r\n      } catch(err){\r\n        console.log('ERROR')\r\n      }      \r\n    } else{\r\n      this.setState({charData: buildCharData([], [], [])});\r\n\r\n    }\r\n  }\r\n\r\n  handleDownload = event => {\r\n\r\n    var chart = document.querySelector('#chart');\r\n    \r\n    var imgData = chart.toDataURL('image/png');\r\n    var doc = new jsPDF('landscape');\r\n    doc.text(15, 15, \"Average start/end time per work shift in the last 30 days\");\r\n    doc.addImage(imgData, 'PNG', 20, 20);\r\n    doc.save('chart.pdf');\r\n  }\r\n\r\n  findHistoricals = async(workShiftId) => {\r\n    let usersRef = app.firestore().collection('users');\r\n    let users = await usersRef.where('workShift', '==', workShiftId).get();\r\n    var result = [];\r\n    for (var user of users.docs) {\r\n      let historicalRef = app.firestore().collection('historicals');\r\n      let historicals = await historicalRef.where('user', '==', user.id)\r\n            .where('date', '>=', new Date(getLastMonthDateformat()))\r\n            .where('date', '<=', new Date(getTodayDateformat()))\r\n            .orderBy('date', 'asc')\r\n            .get()\r\n      for (var historical of historicals.docs){\r\n        result.push(historical.data());\r\n      }\r\n    }\r\n    return result;\r\n  } \r\n\r\n  accumulateData(historicals, workShiftHourData, startAccumulateData, endAccumulateData){\r\n    historicals.forEach(historical => {\r\n      var startRegist = this.buildStartRegist(workShiftHourData, historical);\r\n      var endRegist = this.buildEndRegist(workShiftHourData, historical);\r\n      this.addOrUpdateData(startAccumulateData, startRegist);\r\n      this.addOrUpdateData(endAccumulateData, endRegist);\r\n    })\r\n  }\r\n  \r\n  calculateAverage(accumulatedData) {\r\n    var result = []\r\n    for(var i = 0; i < accumulatedData.length; i++){\r\n      var entry = accumulatedData[i];\r\n      var average = this.averageInArray(entry.data);\r\n      result.push({date: entry.date, average: average})\r\n    }\r\n    return result;\r\n  }\r\n\r\n  averageInArray(array){\r\n    var count = 0;\r\n    for (var i = 0; i < array.length; i++) {\r\n      var data = this.parseStringHourToNumber(array[i]);\r\n      count += data;\r\n    }\r\n    return count > 0 ? (count/array.length).toFixed(2) : 0;\r\n  }\r\n\r\n  parseStringHourToNumber(stringHour) {\r\n    var split = stringHour.split(':');\r\n    return parseFloat(split[0]) + parseFloat(split[1]/60);\r\n  }\r\n\r\n  addOrUpdateData (accumulatedData, regist) {\r\n    if (accumulatedData.length === 0){\r\n      accumulatedData.push({date: regist.date, data: [regist.value]});\r\n    } else{\r\n      var needAdd = true;\r\n      for (var i = 0; i < accumulatedData.length; i++) {\r\n        var entry = accumulatedData[i];\r\n        if (entry.date === regist.date){\r\n          entry.data.push(regist.value);\r\n          needAdd = false;\r\n          break;\r\n        }\r\n      }\r\n      if (needAdd){\r\n        accumulatedData.push({date: regist.date, data: [regist.value]});\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { loading } = this.state;\r\n    return (\r\n      <div className={classes.container}>\r\n          <div>\r\n            <Grid justify=\"space-between\" container>\r\n              <Grid item>\r\n                <FormControl className={classes.formControl}>\r\n                <InputLabel> Work Shift</InputLabel>\r\n                  <NativeSelect\r\n                    disabled={this.state.loading}\r\n                    onChange={this.handleChange}\r\n                    >\r\n                    <option value={\"NONE\"}></option>\r\n                    { this.state.workShifts.map((workShift) =>\r\n                      <option key={workShift.value.id} value={workShift.value.id}>{workShift.name}</option>\r\n                    )}\r\n                  </NativeSelect>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item>\r\n                <Button variant=\"contained\" startIcon={<PictureAsPdfIcon />} size=\"small\" color=\"primary\" onClick={this.handleDownload}>Download</Button>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n          {loading && <LinearProgress color=\"secondary\" />}\r\n          <div className={classes.container}>\r\n            <Line id=\"chart\" ref=\"chart\" data={this.state.charData} options={optionsGraphic}/>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLineChartBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n}\r\nconst LineChar = withStyles(styles) (LineChartBase);\r\nexport default LineChar;","import React, {Component} from 'react';\r\nimport { withStyles } from '@material-ui/core';\r\nimport { Bar, Doughnut } from 'react-chartjs-2';\r\nimport PropTypes from 'prop-types';\r\nimport * as Utils from '../../../../constants/utils';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport { app } from '../../../Firebase/firebase'\r\nimport FindReplaceIcon from '@material-ui/icons/FindReplace';\r\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport jsPDF from 'jspdf';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\n\r\nconst styles = Utils.workShiftSelector;\r\n\r\nfunction pad(s) { return (s < 10) ? '0' + s : s; }\r\n\r\nfunction getLastMonthDateformat() {\r\n    var today = new Date();\r\n    today.setMonth(today.getMonth() - 1)\r\n    return [today.getFullYear(), pad(today.getMonth() + 1), pad(today.getDate())].join('-')\r\n}\r\n\r\nfunction getTodayDateformat() {\r\n  var today = new Date();\r\n  return [today.getFullYear(), pad(today.getMonth() + 1), pad(today.getDate())].join('-')\r\n}\r\n\r\nfunction generateColor (quantity) {\r\n    var result = [];\r\n    for (var i = 0; i < quantity; i++) {\r\n        var color = '#' +  Math.random().toString(16).substr(-6);\r\n        result.push(color);\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nfunction buildDougData(labels, data, backgroundColors, hoverBGColors) {\r\n    return{\r\n        labels: labels,\r\n        datasets: [\r\n            {\r\n                label: 'Rainfall',\r\n                backgroundColor: backgroundColors,\r\n                hoverBackgroundColor: hoverBGColors,\r\n                data: data\r\n            }\r\n        ]\r\n    }\r\n}\r\n\r\nfunction buildBarData(labels, data, backgroundColors, hoverBGColors){\r\n    return {\r\n        labels: labels,\r\n        datasets: [\r\n            { \r\n                label: 'Average',\r\n                backgroundColor: backgroundColors,\r\n                borderColor: hoverBGColors,\r\n                borderWidth: 1,\r\n                data: data\r\n            }   \r\n        ]\r\n    }\r\n}\r\n\r\nconst optionsBar = {\r\n    legend:{\r\n        display:true,\r\n        position:'right'\r\n    }\r\n};\r\n\r\nconst optionsDoug = {\r\n    title:{\r\n        display:true,\r\n        text:'Records By Shift',\r\n        fontSize:20\r\n    },\r\n    legend:{\r\n        display:true,\r\n        position:'right'\r\n    }\r\n}\r\n\r\n\r\nclass BarsChartBase extends Component {\r\n\r\n    constructor (props){\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            workShifts: [],\r\n            barData: buildBarData([],[]),\r\n            dougData: buildDougData([\"None\"], [100])\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        app.firestore().collection('workShifts')\r\n        .orderBy('name', 'desc')\r\n        .get()\r\n        .then(workShiftDocs => {\r\n          var workShiftsDb = [];\r\n          workShiftDocs.forEach(workShiftDoc => {\r\n            var data = workShiftDoc.data();\r\n            workShiftsDb.push({id: workShiftDoc.id, \r\n            value: {name: data.name,\r\n                    start: data.startTime,\r\n                    end: data.endTime\r\n            }})\r\n          })\r\n          this.setState({workShifts: workShiftsDb});\r\n        })\r\n    }\r\n\r\n\r\n    handleDownload = () => {\r\n        var barChart = document.querySelector('#barChart');\r\n        var dougChart = document.querySelector('#dougChart')\r\n    \r\n        var imgDataBar = barChart.toDataURL('image/png');\r\n        var imgDataDoug = dougChart.toDataURL('image/png');\r\n\r\n    \r\n        var doc = new jsPDF('landscape');\r\n        doc.text(15, 15, \"Average hours worked per shift in the last 30 days\");\r\n        doc.addImage(imgDataBar, 'PNG', 20, 20, 200, 75);\r\n        doc.addImage(imgDataDoug, 'PNG', 20, 120, 150, 75);\r\n        doc.save('chart.pdf');\r\n    }    \r\n\r\n    calculateData = async () => {\r\n        this.setState({loading: true});\r\n        var rawData = await this.findData();\r\n        var groupedData = this.groupData(rawData);\r\n        var labels = this.getLabels(groupedData);\r\n        var averages = this.getAverages(groupedData);\r\n        var dataQuantity = this.getDataQuantity(groupedData);\r\n        var backgroundColors = generateColor(labels.length);\r\n        var hoverBGColors = generateColor(labels.length);\r\n        var barData = buildBarData(labels,averages, backgroundColors, hoverBGColors);\r\n        var dougData = buildDougData(labels, dataQuantity, backgroundColors, hoverBGColors);\r\n        \r\n        this.setState({barData: barData, dougData: dougData, loading: false});\r\n    }\r\n\r\n    getLabels(groupedData){\r\n        var result = []\r\n        for (var data of groupedData) {\r\n            result.push(data.workShift);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    getAverages(groupedData){\r\n        var result = []\r\n        for (var entry of groupedData){\r\n            result.push(this.calculateAverage(entry.data));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    calculateAverage(data){\r\n        var count = 0;\r\n        for (var value of data) {\r\n          count += value;\r\n        }\r\n        return count > 0 ? (count/data.length).toFixed(2) : 0;\r\n    }\r\n\r\n    getDataQuantity(groupedData){\r\n        var result = []\r\n        for (var entry of groupedData){\r\n            result.push(entry.data.length);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    findData = async () => {\r\n        var result = []\r\n        let historicalRef = app.firestore().collection('historicals');\r\n        let historicals = await historicalRef\r\n                                .where('date', '>=', new Date(getLastMonthDateformat()))\r\n                                .where('date', '<=', new Date(getTodayDateformat()))\r\n                                .orderBy('date', 'asc')\r\n                                .get();\r\n        for (var historical of historicals.docs){\r\n            let userDocId = historical.data().user;\r\n            let userRef = app.firestore().collection('users');\r\n            let userDoc = await userRef.doc(userDocId).get();\r\n            if (userDoc.exists) {\r\n                var historicalData = historical.data();\r\n                var workShift = this.findWorkShiftById(userDoc.data().workShift);\r\n                if (workShift != null) {\r\n                    var workedTime = this.getWorkedTime(historicalData, workShift);\r\n                    result.push({key: workShift.value.name, value: workedTime})\r\n                }\r\n            }\r\n        }       \r\n        return result;                         \r\n    }\r\n\r\n    getWorkedTime (historical, workShift) {\r\n        var start = historical.start != null ? historical.start : workShift.value.start;\r\n        var end = historical.end != null ? historical.end : workShift.value.end;\r\n        var startInt = this.parseStringHourToNumber(start);\r\n        var endInt = this.parseStringHourToNumber(end);\r\n\r\n        var result = endInt - startInt;\r\n        if (startInt > endInt) {\r\n            result = result + 24\r\n        }\r\n        return result;\r\n    }\r\n\r\n    groupData (data) {\r\n        var accumulatedData = [];\r\n\r\n        for (var newEntry of data){\r\n            var needAdd = true;\r\n            for (var entry of accumulatedData) {\r\n                if (entry.workShift === newEntry.key){\r\n                    entry.data.push(newEntry.value);\r\n                    needAdd = false;\r\n                }\r\n            }\r\n            if (needAdd){\r\n                accumulatedData.push({workShift: newEntry.key, data: [newEntry.value]});\r\n            }            \r\n        }\r\n        return accumulatedData;\r\n    }\r\n\r\n    parseStringHourToNumber(stringHour) {\r\n        var split = stringHour.split(':');\r\n        return parseFloat(split[0]) + parseFloat(split[1]/60);\r\n    }\r\n\r\n    findWorkShiftById = (id) => {\r\n        var workShifts = this.state.workShifts;\r\n        for (var i = 0; i < workShifts.length; i++){\r\n            var workShift = workShifts[i];\r\n            if (workShift.id === id){\r\n                return workShift;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { loading } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <div className={classes.container}>\r\n                    <Grid justify=\"space-between\" container>\r\n                        <Grid item>\r\n                            <Button disabled={this.state.loading} variant=\"contained\" startIcon={<FindReplaceIcon />} size=\"small\" color=\"primary\" onClick={this.calculateData}>Calculate</Button>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Button variant=\"contained\" startIcon={<PictureAsPdfIcon />} size=\"small\" color=\"primary\" onClick={this.handleDownload}>Download</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n                {loading && <LinearProgress color=\"secondary\" />}\r\n                <div className={classes.container}>\r\n                    <Bar id=\"barChart\" ref=\"barChart\" data={this.state.barData} options={optionsBar}/>\r\n                </div>\r\n                <div className={classes.container}> \r\n                    <Doughnut id=\"dougChart\" ref=\"dougChart\" data={this.state.dougData} options={optionsDoug}/>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nBarsChartBase.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n}\r\n\r\nconst BarsChart = withStyles(styles) (BarsChartBase);\r\n\r\nexport default BarsChart;","import React from 'react';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport LineChart from './charts/LineChart'\r\nimport BarsChart from './charts/BarsChart';\r\nimport { withStyles } from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport * as Utils from '../../../constants/utils';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst styles = Utils.chartsStyles;\r\n\r\nclass DashboardBase extends React.Component {\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <div className={classes.root}>\r\n                <Grid container spacing={3} justify=\"center\" alignItems=\"center\">\r\n                    <Grid item xs={8}>\r\n                        <Card className={classes.chart}>\r\n                            <CardHeader title=\"Average start/end time per work shift in the last 30 days\" />\r\n                            <LineChart/>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid item xs={8}>\r\n                        <Card className={classes.chart}>\r\n                            <CardHeader title=\"Average hours worked per shift in the last 30 days\" />\r\n                            <BarsChart/>\r\n                        </Card> \r\n                    </Grid>\r\n                </Grid>\r\n            </div> \r\n        )\r\n    }\r\n\r\n}\r\n\r\nDashboardBase.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n}\r\n\r\nconst Dashboard = withStyles(styles) (DashboardBase);\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport { AppBar } from 'react-admin';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        flexGrow: 1,\r\n      },\r\n    title: {\r\n        flex: 1,\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n    },\r\n    spacer: {\r\n        flex: 1,\r\n    },\r\n});\r\n\r\nconst MyAppBar = props => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar color=\"primary\">\r\n                <Typography\r\n                    variant=\"h6\"\r\n                    color=\"inherit\"\r\n                    className={classes.title}\r\n                    id=\"react-admin-title\"\r\n                />\r\n            </AppBar>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default MyAppBar;","import React from 'react';\r\nimport { Layout } from 'react-admin';\r\nimport MyAppBar from './AdminBar';\r\n\r\nconst MyLayout = (props) => <Layout {...props} appBar={MyAppBar} />;\r\nexport default MyLayout;\r\n","import React from 'react';\r\nimport { Admin, Resource } from 'react-admin';\r\nimport { FirebaseDataProvider } from 'react-admin-firebase';\r\nimport accounts from './accounts';\r\nimport offices from './offices';\r\nimport workShifts from './workShifts';\r\nimport * as COLORS from '../../constants/colors'\r\nimport users from './users';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport historicals from './historicals';\r\nimport Dashboard from './dashboard';\r\nimport MyLayout from './menu/layout';\r\n\r\nvar createHistory = require(\"history\").createBrowserHistory;\r\n\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: COLORS.WATERMELON,\r\n    },\r\n    secondary: {\r\n      main: COLORS.SKY,\r\n    },\r\n  },\r\n});\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n};\r\n\r\nconst options = {};\r\nconst dataProvider = FirebaseDataProvider(config, options);\r\n\r\nconst history = createHistory({ basename: '/admin' });\r\n\r\nclass AdminDashboard extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      \r\n    <Admin theme={theme} layout={MyLayout} dashboard={Dashboard} dataProvider={dataProvider} history={history}>\r\n        <Resource name=\"accounts\" {...accounts}/>\r\n        <Resource name=\"offices\" {...offices}/>\r\n        <Resource name=\"workShifts\" {...workShifts}/>\r\n        <Resource name=\"users\" {...users}/>\r\n        <Resource name=\"historicals\" {...historicals}/>\r\n    </Admin>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default AdminDashboard;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport * as Utils from '../../constants/utils';\r\nimport { withRouter} from 'react-router';\r\nimport { app } from '../Firebase/firebase';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { compose } from 'recompose';\r\n\r\nconst styles = Utils.formStyles;\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  showAlert: false\r\n};\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nclass PasswordForgetForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({\r\n       [event.target.name] : event.target.value\r\n      });\r\n  };\r\n\r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n    event.preventDefault();\r\n    app.auth().sendPasswordResetEmail(email.trim())\r\n    .then(() => {\r\n      this.setState( {showAlert: true});\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    })\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState( {showAlert: false});\r\n  }\r\n\r\n render(){\r\n  const { classes } = this.props;\r\n  return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Forgot password?\r\n            </Typography>\r\n            <form className={classes.form} onSubmit={this.onSubmit}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n                onChange={this.onChange}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Send Email\r\n              </Button>\r\n              <Snackbar className={classes.alert} open={this.state.showAlert} autoHideDuration={6000} onClose={this.handleClose}>\r\n                  <Alert onClose={this.handleClose} severity=\"success\">\r\n                    Success! Check your email\r\n                  </Alert>\r\n              </Snackbar>                \r\n            </form>\r\n          </div>\r\n        </Container>\r\n  );\r\n }\r\n}\r\n  \r\nPasswordForgetForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n}\r\n\r\nconst PasswordForget = compose(withRouter, withStyles(styles))(PasswordForgetForm);\r\nexport default PasswordForget;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport * as Utils from '../../constants/utils';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { compose } from 'recompose';\r\nimport { app } from '../Firebase/firebase'\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  description: '',\r\n  date: new Date(),\r\n  openAlert: false\r\n};\r\n\r\nconst styles = Utils.formStyles;\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nclass SignUpForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onChange = event => {\r\n    this.setState({\r\n       [event.target.name] : event.target.value\r\n      });\r\n  };\r\n\r\n  onSubmit = event => {\r\n    event.preventDefault();\r\n    app.firestore().collection('accounts').add(this.state);  \r\n    this.setState({ openAlert: true, email: '', description: ''});\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState( {openAlert: false});\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n          <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                  First, request an account\r\n              </Typography>\r\n              <form className={classes.form} onSubmit={this.onSubmit}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  value={this.state.email}\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Your Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                  onChange={this.onChange}\r\n                />\r\n                <TextField\r\n                  id=\"description\"\r\n                  label=\"Description\"\r\n                  name=\"description\"\r\n                  value={this.state.description}\r\n                  fullWidth\r\n                  multiline\r\n                  rows=\"4\"\r\n                  variant=\"outlined\"\r\n                  onChange={this.onChange}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  Send Email\r\n                </Button>\r\n                <Snackbar className={classes.alert} open={this.state.openAlert} autoHideDuration={6000} onClose={this.handleClose}>\r\n                  <Alert onClose={this.handleClose} severity=\"success\">\r\n                    Success! Your request was sent\r\n                  </Alert>\r\n                </Snackbar>  \r\n              </form>\r\n            </div>\r\n          </Container>\r\n    );\r\n  }  \r\n}\r\n\r\nSignUpForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst SignUp = compose(withStyles(styles))(SignUpForm);\r\n  \r\n  export default SignUp;","export default __webpack_public_path__ + \"static/media/logo.e05a0e17.png\";","import React from 'react';\r\nimport logo from '../../resources/logos/logo.png';\r\nimport logoMobile from '../../resources/logos/logo_mobile.png';\r\nimport { Link } from 'react-router-dom';\r\nimport * as Utils from '../../constants/utils';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport * as COLORS from '../../constants/colors';\r\nimport { Picture } from 'react-responsive-picture';\r\n\r\nconst stylesWelcome = Utils.welcome;\r\n\r\nclass WelcomeBase extends React.Component{\r\n    render() {\r\n      const { classes } = this.props;\r\n\r\n        return(\r\n          <div className={classes.container}>\r\n            <div>\r\n              <Picture\r\n                sources = {[\r\n                  {\r\n                      srcSet: logoMobile,\r\n                      media: \"(max-width: 420px)\",\r\n                  },\r\n                  {\r\n                      srcSet: logo,\r\n                  },\r\n\r\n                ]}\r\n              />\r\n            </div>\r\n            <div className={classes.title}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Welcome to FicTime! Please&nbsp;\r\n                <Link to={ROUTES.SIGN_IN} style={{color: COLORS.WATERMELON}}>\r\n                    Login\r\n                </Link>\r\n              </Typography>\r\n            </div>\r\n          </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nWelcomeBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst Welcome = withStyles(stylesWelcome) (WelcomeBase);\r\n\r\nexport default Welcome;","import { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport { green, yellow, grey } from '@material-ui/core/colors';\r\n\r\n\r\nexport const GreenButton = withStyles((theme) => ({\r\n    root: {\r\n      color: theme.palette.getContrastText(green[500]),\r\n      backgroundColor: green[500],\r\n      '&:hover': {\r\n        backgroundColor: green[700],\r\n      },\r\n    },\r\n}))(Button);\r\n\r\nexport const YellowButton = withStyles((theme) => ({\r\n    root: {\r\n      color: theme.palette.getContrastText(yellow[500]),\r\n      backgroundColor: yellow[500],\r\n      '&:hover': {\r\n        backgroundColor: yellow[700],\r\n      },\r\n    },\r\n}))(Button);\r\n\r\nexport const GreyButton = withStyles((theme) => ({\r\n  root: {\r\n    color: theme.palette.getContrastText(grey[500]),\r\n    backgroundColor: grey[500],\r\n    '&:hover': {\r\n      backgroundColor: grey[700],\r\n    },\r\n  },\r\n}))(Button);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport * as Utils from '../../constants/utils';\r\nimport NotificationImportantRoundedIcon from '@material-ui/icons/NotificationImportantRounded';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { app } from '../Firebase/firebase'\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { YellowButton } from '../../constants/buttons';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\n\r\nconst styles = Utils.registIncidence;\r\n\r\nclass IncidenceBtnBase extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = { \r\n            open: false,\r\n            date: this.getTodayDateformat(),\r\n            type: \"Start\",\r\n            hour: \"07:30\",\r\n            showAlert: false\r\n        };\r\n    }\r\n\r\n    getTodayDateformat() {\r\n        var today = new Date();\r\n        function pad(s) { return (s < 10) ? '0' + s : s; }\r\n        return [today.getFullYear(), pad(today.getMonth()+1), pad(today.getDate())].join('-')\r\n    }\r\n\r\n    handleClickOpen = () => {\r\n        this.setState({\r\n            open: true\r\n        })\r\n    };\r\n    \r\n    handleClose = () => {\r\n        this.setState({\r\n            open: false\r\n        })\r\n    };\r\n\r\n    handleRegist = () => {\r\n        var dateToRegist = new Date(this.state.date);\r\n        app.firestore().collection('historicals')\r\n        .where('user', '==', this.props.userDocId)\r\n        .where('date', '==', dateToRegist)\r\n        .limit(1)\r\n        .get()\r\n        .then(historicalDocs => {\r\n            if (historicalDocs.size === 1){\r\n                this.updateHistorical(historicalDocs.docs[0]);                \r\n            } else {\r\n                this.addHistorical();\r\n            }\r\n        });\r\n    };\r\n\r\n    updateHistorical (historical) {\r\n        var data = historical.data();\r\n        var canRegistStart = this.state.type === \"Start\" && data.start == null;\r\n        var canRegistEnd = this.state.type === \"End\" && data.end == null;\r\n        if (canRegistStart){\r\n            this.updateEntry(historical.id, {start: this.state.hour })\r\n        } else if (canRegistEnd){\r\n            this.updateEntry(historical.id, {end: this.state.hour })\r\n        } else {\r\n            this.setState({showAlert: true});\r\n        }\r\n    }\r\n\r\n    updateEntry(historicalId, data){\r\n        var historicalDoc = app.firestore().collection('historicals').doc(historicalId);\r\n\r\n        historicalDoc.update(data)\r\n        .then(function() {\r\n          console.log(\"Document successfully updated!\");\r\n          window.location.reload();\r\n        })\r\n        .catch(function(error) {\r\n          console.error(\"Error updating document: \", error);\r\n        });\r\n    }\r\n\r\n    addHistorical () {\r\n        var historical = {\r\n            date: new Date(this.state.date),\r\n            user: this.props.userDocId\r\n        };\r\n        if (this.state.type === \"Start\") {\r\n            historical[\"start\"] = this.state.hour;\r\n        } else {\r\n            historical[\"end\"] = this.state.hour;\r\n        }\r\n\r\n        app.firestore().collection('historicals').add(historical)\r\n            .then(function(docRef) {\r\n              window.location.reload();\r\n\r\n            })\r\n          .catch(function(error) {\r\n            console.error(\"Error adding document: \", error);\r\n          });\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({\r\n           [event.target.name] : event.target.value\r\n        });\r\n    };\r\n\r\n    closeAlert = () => {\r\n        this.setState({ showAlert: false})\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { open } = this.state;\r\n        const today = new Date();\r\n        return(\r\n            <div>\r\n                <YellowButton variant=\"contained\" startIcon={<NotificationImportantRoundedIcon />} size=\"large\" color=\"primary\" onClick={this.handleClickOpen} className={classes.margin}>\r\n                    Incidence\r\n                </YellowButton>\r\n                <Dialog open={open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n                    {this.state.showAlert && \r\n                        <Alert severity=\"warning\" onClose={this.closeAlert}>\r\n                            <AlertTitle>Warning</AlertTitle>\r\n                            you have already registered this day\r\n                        </Alert>\r\n                    }\r\n                    <DialogTitle id=\"form-dialog-title\">Regist Incidence</DialogTitle>\r\n                    <DialogContent>\r\n                        <form className={classes.container}>\r\n                            <TextField\r\n                                label=\"Date\"\r\n                                type=\"date\"\r\n                                maxdate={today}\r\n                                name=\"date\"\r\n                                defaultValue={this.state.date}\r\n                                onChange={this.onChange}\r\n                                className={classes.textField}\r\n                                InputProps={{ inputProps: { max: this.state.date } }}\r\n                                InputLabelProps={{\r\n                                    shrink: true,\r\n                                }}\r\n                            />\r\n                        </form>\r\n                        <form className={classes.container}>\r\n                            <TextField\r\n                                label=\"Hour\"\r\n                                type=\"time\"\r\n                                name=\"hour\"\r\n                                onChange={this.onChange}\r\n                                defaultValue={this.state.hour}\r\n                                className={classes.textField}\r\n                                InputLabelProps={{\r\n                                shrink: true,\r\n                                }}\r\n                                inputProps={{\r\n                                step: 300, // 5 min\r\n                                }}\r\n                            />\r\n                        </form>\r\n\r\n                        <FormControl className={classes.formControl}>\r\n                            <InputLabel>Type</InputLabel>\r\n                            <NativeSelect\r\n                                name=\"type\"\r\n                                value={this.state.type}\r\n                                onChange={this.onChange}\r\n                                >\r\n                                <option value={\"Start\"}>Start</option>\r\n                                <option value={\"End\"}>End</option>\r\n                            </NativeSelect>\r\n                        </FormControl>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={this.handleRegist} color=\"primary\">\r\n                            Regist\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nIncidenceBtnBase.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst IncidenceBtn = withStyles(styles) (IncidenceBtnBase);\r\nexport default IncidenceBtn;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport * as Utils from '../../constants/utils';\r\nimport ImportExportIcon from '@material-ui/icons/ImportExport';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { app } from '../Firebase/firebase'\r\nimport jsPDF from 'jspdf'\r\nimport * as COLORS from '../../constants/colors';\r\nimport { GreyButton } from '../../constants/buttons';\r\nimport 'jspdf-autotable';\r\n\r\nconst styles = Utils.registIncidence;\r\n\r\nfunction convertDate(date) {\r\n    return [pad(date.getDate()), pad(date.getMonth() + 1), date.getFullYear()].join('/')\r\n}\r\n\r\nfunction getTodayDateformat() {\r\n    var today = new Date();\r\n    return [today.getFullYear(), pad(today.getMonth() + 1), pad(today.getDate())].join('-')\r\n}\r\n\r\nfunction pad(s) { return (s < 10) ? '0' + s : s; }\r\n\r\nfunction getLastMonthDateformat() {\r\n    var today = new Date();\r\n    today.setMonth(today.getMonth() - 1)\r\n    return [today.getFullYear(), pad(today.getMonth() + 1), pad(today.getDate())].join('-')\r\n}\r\n\r\nclass HistoricalBtnBase extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = { \r\n            open: false,\r\n            startDate: getLastMonthDateformat(),\r\n            endDate: getTodayDateformat(),\r\n        };\r\n    }\r\n\r\n    handleClickOpen = () => {\r\n        this.setState({\r\n            open: true\r\n        })\r\n    };\r\n    \r\n    handleClose = () => {\r\n        this.setState({\r\n            open: false\r\n        })\r\n    };\r\n\r\n    handleExport = () => {\r\n\r\n        var startDate = new Date(this.state.startDate);\r\n        var endDate = new Date(this.state.endDate)\r\n        app.firestore().collection('historicals')\r\n        .where('user', '==', this.props.userDocId)\r\n        .where('date', '>=', startDate)\r\n        .where('date', '<=', endDate)\r\n        .orderBy('date', 'desc')\r\n        .get()\r\n        .then(historicalDocs => {\r\n            var rows = [];\r\n            historicalDocs.forEach(historicalDoc => {\r\n                var row = this.parseHistoricalData(historicalDoc.data());\r\n                rows.push(row);\r\n            });\r\n            this.jsPdfGenerator(rows);\r\n        });\r\n    };\r\n\r\n    parseHistoricalData = (historical) => {\r\n        var date = historical.date == null ? \"\" : convertDate(historical.date.toDate());\r\n        var start = historical.start == null ? \"\" : historical.start;\r\n        var end = historical.end == null ? \"\" : historical.end;\r\n        return [ date, start, end];\r\n    }\r\n\r\n\r\n    jsPdfGenerator = (data) => {\r\n        const doc = new jsPDF()\r\n\r\n        doc.autoTable({ html: '#my-table' })\r\n        \r\n        doc.autoTable({\r\n            headStyles: { fillColor: COLORS.WATERMELON },\r\n            head: [['Date', 'Start', 'End']],\r\n            body: data,\r\n        })\r\n        \r\n        doc.save('Historical.pdf')\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({\r\n           [event.target.name] : event.target.value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { open } = this.state;\r\n\r\n        return(\r\n            <div>\r\n                <GreyButton variant=\"contained\" startIcon={<ImportExportIcon />} size=\"large\" color=\"primary\" onClick={this.handleClickOpen} className={classes.margin}>\r\n                    Export Historical\r\n                </GreyButton>\r\n                <Dialog open={open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n                    <DialogTitle id=\"form-dialog-title\">Export Historical</DialogTitle>\r\n                    <DialogContent>\r\n                        <form className={classes.container}>\r\n                            <TextField\r\n                                label=\"Start Date\"\r\n                                type=\"date\"\r\n                                name=\"startDate\"\r\n                                defaultValue={this.state.startDate}\r\n                                onChange={this.onChange}\r\n                                className={classes.textField}\r\n                                InputLabelProps={{\r\n                                    shrink: true,\r\n                                }}\r\n                            />\r\n                        </form>\r\n                        <form className={classes.container}>\r\n                            <TextField\r\n                                label=\"End Date\"\r\n                                type=\"date\"\r\n                                name=\"endDate\"\r\n                                defaultValue={this.state.endDate}\r\n                                onChange={this.onChange}\r\n                                className={classes.textField}\r\n                                InputLabelProps={{\r\n                                    shrink: true,\r\n                                }}\r\n                            />\r\n                        </form>                        \r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <Button onClick={this.handleExport} color=\"primary\">\r\n                            Export\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>    \r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nHistoricalBtnBase.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst HistoricalBtn = withStyles(styles) (HistoricalBtnBase);\r\nexport default HistoricalBtn;","import React from 'react';\r\nimport ReactAwesomeClock from \"react-awesome-clock\";\r\n\r\nexport default class MyClock extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n            <ReactAwesomeClock\r\n                clockSeparator= \":\"\r\n                style={{\r\n                    color: \"grey\",\r\n                    fontSize: 60,\r\n                    textShadow: \"0 0 10px grey\",\r\n                    fontFamily: \"aerial\"\r\n                }}\r\n            />\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { app } from '../Firebase/firebase'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputIcon from '@material-ui/icons/Input';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport Table from '@material-ui/core/Table';\r\nimport PropTypes from 'prop-types';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport * as Utils from '../../constants/utils';\r\nimport * as COLORS from '../../constants/colors';\r\nimport { compose } from 'recompose';\r\nimport IncidenceBtn from './IncidenceBtn';\r\nimport HistoricalBtn from './HistoricalBtn';\r\nimport { GreenButton } from '../../constants/buttons';\r\nimport MyClock from './Clock/clock';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n    head: {\r\n      backgroundColor: COLORS.WATERMELON,\r\n      color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n      fontSize: 14,\r\n    },\r\n  }))(TableCell);\r\n  \r\n  const StyledTableRow = withStyles((theme) => ({\r\n    root: {\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n    },\r\n  }))(TableRow);\r\n  \r\nconst styles = Utils.registTime;\r\n\r\nfunction createData(dateWithoutFormat, start, end) {\r\n  var date = convertDate(dateWithoutFormat);\r\n  return { date, start, end};\r\n}\r\n\r\nfunction convertDate(date) {\r\n  function pad(s) { return (s < 10) ? '0' + s : s; }\r\n  return [pad(date.getDate()), pad(date.getMonth()+1), date.getFullYear()].join('/')\r\n}\r\n\r\nfunction isToday(date){\r\n  const today = new Date();\r\n  return date.getDate() === today.getDate() &&\r\n    date.getMonth() === today.getMonth() &&\r\n    date.getFullYear() === today.getFullYear();\r\n}\r\n\r\nfunction getTime() {\r\n  var today = new Date();\r\n  var minutes = (today.getMinutes()<10?'0':'') + today.getMinutes();\r\n  return today.getHours() + \":\" + minutes;\r\n}\r\n\r\nfunction getTodayDateformat() {\r\n  var today = new Date();\r\n  function pad(s) { return (s < 10) ? '0' + s : s; }\r\n  return [today.getFullYear(), pad(today.getMonth()+1), pad(today.getDate())].join('-')\r\n}\r\n\r\nclass RegistTimeBase extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      rows: [],\r\n      actionBtns: {\r\n        disableStart : true,\r\n        disableEnd: true\r\n      },\r\n      userDocId: null,\r\n      historicalTodayDocId: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadData();\r\n  }\r\n\r\n  loadData(){\r\n    var email = this.props.email;    \r\n    var historicals = app.firestore().collection('historicals');\r\n\r\n    app.firestore()\r\n    .collection('users').where('email','==', email)\r\n    .get()\r\n    .then(userDocs => {\r\n        userDocs.forEach(userDoc => {\r\n            historicals.where('user', '==', userDoc.id)\r\n            .orderBy('date', 'desc')\r\n            .limit(7)\r\n            .get()\r\n            .then(historicalDocs => {\r\n                var result = [];\r\n                var historicalTodayDocId = null;\r\n                var actionBtns = { disableStart: false, disableEnd : false};\r\n            \r\n                historicalDocs.forEach(historicalDoc => {\r\n                    var data = historicalDoc.data();\r\n\r\n                    if ((data.date != null) && isToday(data.date.toDate())){\r\n                      actionBtns.disableStart = (data.start != null) || (data.end != null);\r\n                      actionBtns.disableEnd = (data.end != null);\r\n                      historicalTodayDocId = historicalDoc.id;\r\n                    }\r\n                    var row = createData(data.date.toDate(), data.start, data.end);\r\n                    result.push(row);\r\n                })\r\n                this.setState({ rows: result, actionBtns: actionBtns, userDocId: userDoc.id, historicalTodayDocId: historicalTodayDocId });\r\n            })            \r\n        })\r\n\r\n    });\r\n  }\r\n\r\n\r\n  onStart = () => {\r\n    const { userDocId, historicalTodayDocId } = this.state;\r\n    var time = getTime();\r\n    if (historicalTodayDocId == null){\r\n      var historical = {\r\n        date: new Date(getTodayDateformat()),\r\n        user: userDocId,\r\n        start: time\r\n      };\r\n      this.addHistorical(historical);\r\n    } else{\r\n      var updateData = {\r\n        start: time\r\n      }\r\n      this.updateHistorical(historicalTodayDocId, updateData);\r\n    }\r\n    this.loadData();\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onEnd = () => {\r\n    const { userDocId, historicalTodayDocId } = this.state;\r\n    var time = getTime();\r\n\r\n    if (historicalTodayDocId == null){\r\n      var historical = {\r\n        date: new Date(getTodayDateformat()),\r\n        user: userDocId,\r\n        end: time\r\n      };\r\n      this.addHistorical(historical);\r\n    } else{\r\n      var updateData = {\r\n        end: time\r\n      }\r\n      this.updateHistorical(historicalTodayDocId, updateData);\r\n    }\r\n    this.loadData();\r\n    this.forceUpdate();\r\n  }\r\n\r\n  addHistorical (data) {\r\n    app.firestore().collection('historicals').add(data)\r\n      .then(function(docRef) {\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      })\r\n      .catch(function(error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n  }\r\n\r\n  updateHistorical (historicalId, data) {\r\n    var historicalDoc = app.firestore().collection('historicals').doc(historicalId);\r\n\r\n    historicalDoc.update(data)\r\n    .then(function() {\r\n      console.log(\"Document successfully updated!\");\r\n    })\r\n    .catch(function(error) {\r\n      console.error(\"Error updating document: \", error);\r\n    });\r\n  }\r\n\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n    const { actionBtns } = this.state;\r\n    return(\r\n      <div className={classes.container}>\r\n          <Grid container justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={5}>\r\n              <MyClock/>\r\n            </Grid>\r\n          </Grid>\r\n          <div>\r\n              <GreenButton variant=\"contained\" startIcon={<InputIcon />} size=\"large\" onClick={this.onStart} className={classes.margin} disabled={actionBtns.disableStart} >Start</GreenButton>\r\n              <Button variant=\"contained\" startIcon={<ExitToAppIcon />} size=\"large\" color=\"primary\" onClick={this.onEnd} className={classes.margin} disabled={actionBtns.disableEnd}>End</Button>\r\n          </div>\r\n          <div>\r\n              <IncidenceBtn userDocId={this.state.userDocId}/>\r\n          </div>\r\n          <div>\r\n              { this.state.rows.length > 0 &&\r\n                <TableContainer component={Paper} className={classes.tableContainer}>\r\n                    <Table aria-label=\"customized table\">\r\n                        <TableHead>\r\n                        <TableRow>\r\n                            <StyledTableCell>Date</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">Start</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">End</StyledTableCell>\r\n                        </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {this.state.rows.map((row) => (\r\n                            <StyledTableRow key={row.date}>\r\n                            <StyledTableCell component=\"th\" scope=\"row\">\r\n                                {row.date}\r\n                            </StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{row.start}</StyledTableCell>\r\n                            <StyledTableCell align=\"right\">{row.end}</StyledTableCell>\r\n                            </StyledTableRow>\r\n                        ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n              }\r\n          </div>\r\n          <div>\r\n              <HistoricalBtn userDocId={this.state.userDocId}/>\r\n          </div>          \r\n\r\n      </div>\r\n    )\r\n\r\n      \r\n  }\r\n\r\n}\r\n\r\nRegistTimeBase.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst RegistTime = compose(withStyles(styles)) (RegistTimeBase);\r\n\r\nexport default RegistTime;","import React, { useContext } from 'react';\r\nimport { AuthContext } from '../Firebase/context';\r\nimport Welcome from './Welcome';\r\nimport RegistTime from './RegistTime';\r\n\r\nfunction Home() {\r\n  const { currentUser } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div>\r\n      { currentUser ? \r\n        <RegistTime email={currentUser.email} /> \r\n      :  <Welcome/> }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","\r\nimport React, { useEffect, useContext, useState } from 'react';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { AuthContext } from '../../components/Firebase/context';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n\r\n    const [isAdmin, setIsAdmin] = useState(null);\r\n\r\n    const { currentUser } = useContext(AuthContext);\r\n  \r\n    useEffect(() => {\r\n      if (currentUser) {\r\n        currentUser.getIdTokenResult()\r\n        .then((idTokenResult) => {\r\n          if (!!idTokenResult.claims.admin) {\r\n            setIsAdmin(true);\r\n          }\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        })\r\n      }\r\n    }, [currentUser]);\r\n\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={({ location }) =>\r\n          isAdmin ? (\r\n            children\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: ROUTES.LANDING,\r\n                state: { from: location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }","import React, { Component } from 'react';\r\nimport Navigation from '../src/components/Navigation';\r\nimport SignInPage from '../src/components/SignIn';\r\nimport Dashboard from '../src/components/Admin';\r\nimport PasswordForgetPage from '../src/components/PasswordForget';\r\nimport SignUpPage from '../src/components/SignUp';\r\nimport HomePage from '../src/components/Home';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\nimport * as ROUTES from '../src/constants/routes';\r\nimport * as COLORS from '../src/constants/colors'\r\nimport styles from './resources/css/home.module.css';\r\nimport { AuthProvider } from '../src/components/Firebase/context';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport RouteAdmin from '../src/components/Admin/RouteAdmin'\r\n\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: COLORS.WATERMELON,\r\n    },\r\n    secondary: {\r\n      main: COLORS.SKY,\r\n    }\r\n  },\r\n});\r\n\r\nclass App extends Component{\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <AuthProvider>\r\n          <ThemeProvider theme={theme}>\r\n            <Router>\r\n              <div className={styles.wrapper}>\r\n                <Navigation />\r\n                <Route exact path={ROUTES.LANDING} component={HomePage}/>\r\n                <Route path={ROUTES.HOME} component={HomePage}/>\r\n                <Route path={ROUTES.SIGN_IN} component={SignInPage}/>\r\n                <Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage}/>\r\n                <Route path={ROUTES.SIGN_UP} component={SignUpPage}/>\r\n                <RouteAdmin path={ROUTES.ADMIN}>\r\n                  <Dashboard></Dashboard>  \r\n                </RouteAdmin>\r\n              </div>\r\n            </Router>\r\n          </ThemeProvider>\r\n        </AuthProvider>\r\n        <footer className={styles.footer}>\r\n           <strong>Master Universitario en Ingeniería informática</strong>.\r\n        </footer>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n      <App />,\r\n    document.getElementById('root'),\r\n);\r\n  \r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}